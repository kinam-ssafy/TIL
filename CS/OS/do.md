# 운영체제 핵심 요약

## 1. 파일 시스템 기초

### 파일이란
- 이름을 가진 데이터의 논리적 저장 단위
- 파일 데이터 + 메타데이터(이름, 크기, 권한 등)

### 디렉토리
- 파일들을 그룹화하는 특수 파일
- 트리 구조로 계층적 관리

### 파일 할당 방식 비교

| 방식 | 특징 | 장점 | 단점 |
|------|------|------|------|
| 연속 할당 | 연속된 블록에 저장 | 빠른 접근 | 외부 단편화 |
| 연결 할당 | 링크로 연결 | 단편화 없음 | 순차 접근만 |
| 인덱스 할당 | 인덱스로 위치 관리 | 직접 접근 | 인덱스 공간 필요 |

### 실제 구현
- **FAT**: 연결 할당 + 별도 테이블
- **inode**: 인덱스 할당 + 다단계 (Linux/UNIX)

---

## 2. 파일 접근 방식

### 순차 접근 (Sequential)
- 처음부터 순서대로 읽기
- 로그, 스트리밍에 적합
- 모든 할당 방식 지원

### 직접 접근 (Direct/Random)
- 원하는 위치로 바로 이동
- 데이터베이스에 적합
- 연결 할당에서 불가능

### 인덱스 순차 접근
- 인덱스로 빠르게 찾고 순차 읽기
- 직접 + 순차 장점 결합
- 범위 검색 효율적

---

## 3. 입출력 시스템 & 디스크 스케줄링

### I/O 처리 방법
- **Polling**: CPU가 계속 확인 (비효율)
- **인터럽트**: I/O 완료 시 알림
- **DMA**: CPU 개입 없이 메모리 직접 접근

### 디스크 접근 시간
```
총 시간 = 탐색 시간 + 회전 지연 + 전송 시간
         (가장 큼)   (중간)    (작음)
```

### 디스크 스케줄링 알고리즘

| 알고리즘 | 특징 | 용도 |
|----------|------|------|
| FCFS | 순서대로 처리 | 단순 시스템 |
| SSTF | 가장 가까운 것부터 | 성능 우선 |
| SCAN | 한 방향으로 이동 | 범용 (추천) |
| C-SCAN | 한 방향만 서비스 | 공정성 중요 |
| LOOK | SCAN 개선 (끝까지 안 감) | 실무 |

### HDD vs SSD
- **HDD**: 기계적, 스케줄링 필요
- **SSD**: 전자적, FCFS만으로 충분

---

## 4. 시스템 콜 & OS 구조

### 이중 모드
- **사용자 모드**: 제한된 권한
- **커널 모드**: 모든 권한
- 시스템 콜로만 전환

### 시스템 콜 과정
```
사용자 프로그램 → trap 발생 → 커널 모드 진입 
→ OS가 작업 수행 → 사용자 모드 복귀
```

### 시스템 콜 종류
- 프로세스 제어: fork, exec, exit
- 파일 관리: open, read, write
- 메모리 관리: mmap, brk
- 통신: socket, pipe

### OS 구조 비교

| 구조 | 특징 | 장단점 |
|------|------|--------|
| 단순 구조 | 모든 기능 하나로 | 빠르지만 유지보수 어려움 |
| 계층 구조 | 계층별 분리 | 명확하지만 오버헤드 |
| 마이크로커널 | 최소 커널 | 안정적이지만 느림 |
| 모듈 구조 | 동적 로딩 | 유연하고 빠름 (현대 OS) |

---

## 5. IPC & 가상화 & 보안

### IPC (프로세스 간 통신)

| 방식 | 특징 | 용도 |
|------|------|------|
| 파이프 | 단방향 통로 | 부모-자식 통신 |
| 메시지 큐 | 비동기 메시지 | 여러 프로세스 통신 |
| 공유 메모리 | 메모리 공유 | 대용량, 고속 |
| 소켓 | 네트워크 통신 | 원격 통신 |
| 시그널 | 간단한 알림 | 이벤트 전달 |

### 가상화

**VM (가상 머신)**
- 완전한 OS 격리
- 무겁고 느림
- 다른 OS 실행 가능

**Container (컨테이너)**
- 커널 공유, 프로세스 격리
- 가볍고 빠름
- 같은 OS만 가능

### 보안 메커니즘

**접근 제어**
- DAC: 소유자가 권한 결정
- MAC: 시스템이 권한 결정
- RBAC: 역할 기반 권한

**메모리 보호**
- ASLR: 메모리 주소 랜덤화
- DEP: 데이터 영역 실행 불가
- Stack Canary: 버퍼 오버플로우 탐지

**보안 원칙**
- 최소 권한 원칙
- 다층 방어
- 샌드박싱

---

## 🎯 핵심 정리

### 파일 시스템
```
파일 저장 → 할당 방식 선택 → 접근 방식 결정
```

### I/O & 디스크
```
탐색 시간 최소화가 목표 → SCAN/LOOK 알고리즘 추천
```

### 시스템 콜
```
사용자 프로그램 ↔ OS 소통 = 시스템 콜
```

### IPC
```
프로세스 독립 → 통신 필요 → IPC 메커니즘
```

### 보안
```
사용자/커널 모드 분리 + 메모리 보호 + 접근 제어 = 다층 방어
```