# Django Many To Many Relationships 01

## ğŸ“š ëª©ì°¨

1. **Many to many relationships**
   - N:1ì˜ í•œê³„
   - ì¤‘ê°œ ëª¨ë¸
   - ManyToManyField
   - 'through' argument

2. **ManyToManyField ì¢‹ì•„ìš” ê¸°ëŠ¥ êµ¬í˜„**
   - ëª¨ë¸ ê´€ê³„ ì„¤ì •
   - ê¸°ëŠ¥ êµ¬í˜„

---

## ğŸ¯ í•™ìŠµ ëª©í‘œ

- N:M ê´€ê³„ê°€ í•„ìš”í•œ ìƒí™©ì„ íŒŒì•…í•˜ê³ , Djangoì—ì„œ ì´ë¥¼ ì–´ë–»ê²Œ êµ¬í˜„í•˜ëŠ”ì§€ ì´í•´í•œë‹¤
- ManyToManyFieldì˜ ê¸°ë³¸ ë™ì‘ê³¼ ì£¼ìš” ì†ì„±ë“¤ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤
- 'through'ë¥¼ í™œìš©í•œ ì¤‘ê°œ ëª¨ë¸ ì„¤ê³„ë²•ì„ ìŠµë“í•œë‹¤
- ì¢‹ì•„ìš” ê¸°ëŠ¥ êµ¬í˜„ì„ í†µí•´ ê´€ê³„ ì„¤ì •ê³¼ ì—­ì°¸ì¡° ì¶©ëŒ í•´ê²°ë²•ì„ ë°°ìš´ë‹¤
- Django ëª¨ë¸ ì„¤ê³„ ì‹œ ì‹¤ë¬´ì ì¸ ê´€ê³„ êµ¬ì„± ëŠ¥ë ¥ì„ í–¥ìƒì‹œí‚¨ë‹¤

---

## ğŸ’¡ í•™ìŠµ ì‹œì‘

N:1 ê´€ê³„ë³´ë‹¤ ë³µì¡í•œ ê´€ê³„ë¥¼ ìœ ì—°í•˜ê²Œ ì„¤ê³„í•˜ëŠ” ë°©ì•ˆì„ ê³ ë¯¼í•´ë´…ì‹œë‹¤.

í™˜ìì™€ ì˜ì‚¬ ê°„ ì˜ˆì•½ ì‹œìŠ¤í…œì„ ë§Œë“¤ ë•Œ, N:1 êµ¬ì¡°ë§Œìœ¼ë¡œëŠ” ë‹¤ì–‘í•œ ê´€ê³„ë¥¼ í‘œí˜„í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.

**í•µì‹¬ ê°œë…:**
1. Djangoì˜ **ì¤‘ê°œ ëª¨ë¸**ì„ ì‚¬ìš©í•˜ë©´ ì˜ˆì•½ ì •ë³´ì™€ ë¶€ê°€ ì •ë³´ë¥¼ í•¨ê»˜ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
2. **ManyToManyField**ë¥¼ ì‚¬ìš©í•˜ë©´ ì–‘ë°©í–¥ ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ ì‰½ê²Œ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
3. **'through'** ì¸ìë¡œ í™œìš©í•˜ë©´ ì¤‘ê°„ í…Œì´ë¸”ì— ì‚¬ìš©ì ì§€ì • í•„ë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
4. **related_name, symmetrical** ê°™ì€ ì˜µì…˜ìœ¼ë¡œ ì°¸ì¡° ë°©í–¥ì„±ê³¼ ì¶©ëŒì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

---

## 1ï¸âƒ£ Many to many relationships

### ë‹¤ëŒ€ë‹¤ ê´€ê³„ë€?

**ì •ì˜:**
- í•œ í…Œì´ë¸”ì˜ 0ê°œ ì´ìƒì˜ ë ˆì½”ë“œê°€ ë‹¤ë¥¸ í…Œì´ë¸”ì˜ 0ê°œ ì´ìƒì˜ ë ˆì½”ë“œì™€ ê´€ë ¨ëœ ê²½ìš°
- N:M ë˜ëŠ” M:Nìœ¼ë¡œ í‘œê¸°

**ë¹„ìœ :**
- Many to many(ë‹¤ëŒ€ë‹¤) ê´€ê³„ëŠ” **ì˜í™”ì™€ ë°°ìš°**ì²˜ëŸ¼, í•œìª½ì˜ ì—¬ëŸ¬ ê°œê°€ ë‹¤ë¥¸ ìª½ì˜ ì—¬ëŸ¬ ê°œì™€ ì—°ê²°ë˜ëŠ” ë³µì¡í•œ ê´€ê³„ë¥¼ ë§í•©ë‹ˆë‹¤
- ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ ì„¤ì •í•˜ë©´ í•œ ì˜í™”ì— ì—¬ëŸ¬ ë°°ìš°ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜, í•œ ë°°ìš°ê°€ ì¶œì—°í•œ ëª¨ë“  ì˜í™”ë¥¼ ì‰½ê²Œ ì°¾ì•„ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤

**ì‹¤ìŠµ ëª©í‘œ:**
- M:N ê´€ê³„ì˜ ì—­í• ê³¼ í•„ìš”ì„± ì´í•´í•˜ê¸°
- 'ë³‘ì› ì§„ë£Œ ì‹œìŠ¤í…œ ëª¨ë¸ ê´€ê³„'ë¥¼ ì§ì ‘ ë§Œë“¤ì–´ ë³´ê¸°
- í™˜ìì™€ ì˜ì‚¬ 2ê°œì˜ ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ êµ¬ì¡° êµ¬ìƒ
- ê¸°ì¡´ì˜ N:1 êµ¬ì¡°ë¡œ í™˜ìì™€ ì˜ì‚¬ í…Œì´ë¸”ì„ êµ¬ì„±í–ˆì„ ë•Œ ì–´ë–¤ í•œê³„ê°€ ìˆëŠ”ì§€ í™•ì¸
- N:M ê´€ê³„ëŠ” ì–´ë–»ê²Œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê´€ë¦¬í•˜ëŠ”ì§€ í™•ì¸

---

## 2ï¸âƒ£ N:1ì˜ í•œê³„

### ì˜ì‚¬ì™€ í™˜ì ê°„ ëª¨ë¸ ê´€ê³„ ì„¤ì •

í•œ ëª…ì˜ ì˜ì‚¬ì—ê²Œ ì—¬ëŸ¬ í™˜ìê°€ ì˜ˆì•½í•  ìˆ˜ ìˆë„ë¡ models í´ë˜ìŠ¤ ì •ì˜

```python
# hospitals/models.py

class Doctor(models.Model):
    name = models.TextField()
    
    def __str__(self):
        return f'{self.pk}ë²ˆ ì˜ì‚¬ {self.name}'


class Patient(models.Model):
    doctor = models.ForeignKey(Doctor, on_delete=models.CASCADE)
    name = models.TextField()
    
    def __str__(self):
        return f'{self.pk}ë²ˆ í™˜ì {self.name}'
```

**í…Œì´ë¸” êµ¬ì¡°:**

**hospitals_doctor**
| id | name |
|----|------|
| 1  | allie |
| 2  | barbie |

**hospitals_patient**
| id | name | doctor_id |
|----|------|-----------|
| 1  | carol | 1 |
| 2  | duke | 2 |

---

### N:1ì˜ í•œê³„ ìƒí™©

#### ìƒí™© 1: ë°ì´í„° ì¤‘ë³µ

1ë²ˆ í™˜ì(carol)ê°€ ë‘ ì˜ì‚¬ ëª¨ë‘ì—ê²Œ ì§„ë£Œë¥¼ ë°›ê³ ì í•œë‹¤ë©´?

```python
patient3 = Patient.objects.create(name='carol', doctor=doctor2)
```

**ë¬¸ì œì :** í™˜ì í…Œì´ë¸”ì— 1ë²ˆ í™˜ì ë°ì´í„°ê°€ ì¤‘ë³µìœ¼ë¡œ ì…ë ¥ë  ìˆ˜ë°–ì— ì—†ìŒ

**hospitals_patient**
| id | name | doctor_id |
|----|------|-----------|
| 1  | carol | 1 |
| 2  | duke | 2 |
| 3  | carol | 2 |  â† ì¤‘ë³µ ë°œìƒ!

---

#### ìƒí™© 2: ë™ì‹œ ì €ì¥ ë¶ˆê°€

í™˜ìê°€ ì§„ë£Œ ë°›ì„ ì˜ì‚¬ ì •ë³´ë¥¼ ë™ì‹œì— ì €ì¥ì„ ì‹œë„í–ˆì„ ë•ŒëŠ” ì—ëŸ¬ê°€ ë°œìƒ

```python
# ì—ëŸ¬ ë°œìƒ!
patient4 = Patient.objects.create(
    name='carol',
    doctor=doctor1, doctor2  # SyntaxError
)
```

---

#### ìƒí™© 3: ì œ1ì •ê·œí˜• ìœ„ë°˜

**ì œ1ì •ê·œí˜•:**
> í…Œì´ë¸”ì˜ ëª¨ë“  ì¹¸ì— ë” ì´ìƒ ìª¼ê°¤ ìˆ˜ ì—†ëŠ” í•˜ë‚˜ì˜ ê°’ë§Œ ë„£ì–´ì•¼ í•¨

**ë¬¸ì œì :**

1. **ë°ì´í„° ì¤‘ë³µ ë°œìƒ**
   - ë™ì¼í•œ í™˜ìì§€ë§Œ ë‹¤ë¥¸ ì˜ì‚¬ì—ê²Œë„ ì§„ë£Œ ë°›ê¸° ìœ„í•´ ìƒˆë¡œìš´ ì˜ˆì•½ ë°ì´í„°ë¥¼ ë§Œë“¤ì–´ì•¼ í•¨
   - ë™ì¼í•œ í™˜ì ì •ë³´ë¥¼ ë˜ ì‘ì„±í•˜ì—¬ ì €ì¥

2. **ë°ì´í„° ì¼ê´€ì„± ë¬¸ì œ**
   - ë°ì´í„°ì˜ ì¤‘ë³µì´ ë°œìƒí•˜ë©´ ë‚˜ì¤‘ì— í™˜ìì˜ ì •ë³´ê°€ ë°”ë€Œì—ˆì„ ë•Œ, ëª¨ë“  ì˜ˆì•½ ì •ë³´ë¥¼ í•˜ë‚˜í•˜ë‚˜ ì°¾ì•„ì„œ ê³ ì³ì•¼ í•¨
   - ì‹¤ìˆ˜ë¡œ í•˜ë‚˜ë¼ë„ ëˆ„ë½í•œë‹¤ë©´ ë°ì´í„°ì˜ ì¼ê´€ì„±ì´ ê¹¨ì§€ê²Œ ë¨

3. **DB íƒ€ì… ì œì•½**
   - ì™¸ë˜ í‚¤ ì»¬ëŸ¼ì— '1, 2' í˜•íƒœë¡œ ì €ì¥í•˜ëŠ” ê²ƒì€ DB íƒ€ì… ë¬¸ì œë¡œ ë¶ˆê°€ëŠ¥
   - ì œ1ì •ê·œí˜•ì„ ë§Œì¡±í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ì´ ë¶ˆê°€

**í•´ê²° ë°©ë²•:**
> ì˜ì‚¬ì˜ ì •ë³´ë„ ì™¸ë˜ í‚¤ë¡œ ì°¸ì¡°í•˜ê³  í™˜ìì˜ ì •ë³´ë„ ì™¸ë˜ í‚¤ë¡œ ì°¸ì¡°í•˜ëŠ” **ë³„ê°œì˜ í…Œì´ë¸”**ì„ ë§Œë“ ë‹¤ë©´ ìœ„ì— ì–¸ê¸‰ëœ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆê²Œ ë¨
> 
> **ì¦‰, "ì˜ˆì•½ í…Œì´ë¸”ì„ ë”°ë¡œ ë§Œë“¤ì"**

---

## 3ï¸âƒ£ ì¤‘ê°œ ëª¨ë¸

### ì¤‘ê°œ ëª¨ë¸ì´ë€?

**ì •ì˜:**
- ë‹¤ëŒ€ë‹¤ ê´€ê³„ì—ì„œ ë‘ ëª¨ë¸ì„ ì—°ê²°í•˜ëŠ” ì—­í• ì„ í•˜ëŠ”, íŠ¹ë³„í•œ ê¸°ëŠ¥ì„ ê°€ì§„ ëª¨ë¸

**ë¹„ìœ :**
- ì˜ì‚¬ì™€ í™˜ìê°€ 'ì˜ˆì•½'ì´ë¼ëŠ” ê´€ê³„ë¡œ ì—°ê²°ë  ë•Œ, ë‹¨ìˆœíˆ 'ì˜ì‚¬ Aì™€ í™˜ì Bê°€ ì—°ê²°ë˜ë‹¤'ëŠ” ì‚¬ì‹¤ ì™¸ì— 'ì–¸ì œ ì˜ˆì•½í–ˆëŠ”ì§€', 'ì˜ˆì•½ì˜ ìƒíƒœëŠ” ë¬´ì—‡ì¸ì§€' ê°™ì€ ì •ë³´ë¥¼ í•¨ê»˜ ì €ì¥í•˜ëŠ” ëª¨ë¸

**ì¥ì :**
- ì¤‘ê°œ ëª¨ë¸ì„ ì‚¬ìš©í•˜ë©´ Doctor ëª¨ë¸ì´ë‚˜ Patient ëª¨ë¸ì— ì—†ëŠ”, ì˜ˆì•½ í–‰ìœ„ ìì²´ì— ëŒ€í•œ ìƒì„¸í•œ ì •ë³´ë¥¼ ë‹´ì„ ìˆ˜ ìˆì–´ ë³µì¡í•œ í˜„ì‹¤ ì„¸ê³„ì˜ ê´€ê³„ë¥¼ ë”ìš± ì •êµí•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

> **TIP:** 
> - **ì¤‘ê°œ**: ì§ì ‘ ë‹¹ì‚¬ìê°€ ë˜ì§€ ì•Šê³ , ê±°ë˜ë‚˜ ê³„ì•½ì´ ì´ë£¨ì–´ì§€ë„ë¡ ë•ëŠ” ì—­í•  (ê³µì¸ ì¤‘ê°œì‚¬)
> - **ì¤‘ê³„**: ì¤‘ê°„ì—ì„œ ì´ì–´ë°›ì•„ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ì „ë‹¬í•˜ê±°ë‚˜ ì—°ê²°í•˜ëŠ” ê²ƒ (ì¤‘ê³„ ë°©ì†¡)

---

### ì˜ˆì•½ ëª¨ë¸ ìƒì„±

í™˜ì ëª¨ë¸ì˜ ì™¸ë˜ í‚¤ë¥¼ ì‚­ì œí•˜ê³  ë³„ë„ì˜ ì˜ˆì•½ ëª¨ë¸ì„ ìƒˆë¡œ ìƒì„±

```python
# hospitals/models.py

class Doctor(models.Model):
    name = models.TextField()
    
    def __str__(self):
        return f'{self.pk}ë²ˆ ì˜ì‚¬ {self.name}'


# ì™¸ë˜ í‚¤ ì‚­ì œ
class Patient(models.Model):
    name = models.TextField()
    
    def __str__(self):
        return f'{self.pk}ë²ˆ í™˜ì {self.name}'


# ì¤‘ê°œ ëª¨ë¸ ì‘ì„±
class Reservation(models.Model):
    doctor = models.ForeignKey(Doctor, on_delete=models.CASCADE)
    patient = models.ForeignKey(Patient, on_delete=models.CASCADE)
    
    def __str__(self):
        return f'{self.doctor.pk}ë²ˆ ì˜ì‚¬ì˜ {self.patient.pk}ë²ˆ í™˜ì'
```

**í…Œì´ë¸” êµ¬ì¡°:**

**hospitals_reservation (ì¤‘ê°œ í…Œì´ë¸”)**
| id | doctor_id | patient_id |
|----|-----------|------------|
| 1  | 1         | 1          |
| 2  | 2         | 2          |
| 3  | 1         | 2          |
| 4  | 2         | 1          |

---

### ì˜ˆì•½ ìƒì„± (1/3)

```python
# 1ë²ˆ ì˜ì‚¬ì—ê²Œ 1ë²ˆ í™˜ì ì˜ˆì•½
reservation1 = Reservation(doctor=doctor1, patient=patient1)
reservation1.save()
```

**ê²°ê³¼:**
```
<Reservation: 1ë²ˆ ì˜ì‚¬ì˜ 1ë²ˆ í™˜ì>
```

---

### ì˜ˆì•½ ìƒì„± (2/3)

```python
# 2ë²ˆ ì˜ì‚¬ì—ê²Œ 2ë²ˆ í™˜ì ì˜ˆì•½
reservation2 = Reservation(doctor=doctor2, patient=patient2)
reservation2.save()
```

**ê²°ê³¼:**
```
<Reservation: 2ë²ˆ ì˜ì‚¬ì˜ 2ë²ˆ í™˜ì>
```

---

### ì˜ˆì•½ ìƒì„± (3/3)

carol(1ë²ˆ í™˜ì)ì´ ì¶”ê°€ë¡œ 2ë²ˆ ì˜ì‚¬ì—ê²Œë„ ì˜ˆì•½ ìƒì„±

```python
reservation3 = Reservation(doctor=doctor2, patient=patient1)
reservation3.save()
```

**ì¤‘ê°œ í…Œì´ë¸” í™•ì¸:**
| id | doctor_id | patient_id |
|----|-----------|------------|
| 1  | 1         | 1          |
| 2  | 2         | 2          |
| 3  | 2         | 1          |  â† ì¤‘ë³µ ì—†ì´ ê´€ê³„ë§Œ ì¶”ê°€!

---

### ì˜ˆì•½ ì •ë³´ ì¡°íšŒ

```python
# 1ë²ˆ ì˜ì‚¬ì˜ ì˜ˆì•½ ì •ë³´ ì¡°íšŒ
doctor1.reservation_set.all()
# <QuerySet [<Reservation: 1ë²ˆ ì˜ì‚¬ì˜ 1ë²ˆ í™˜ì>]>

# 1ë²ˆ í™˜ìì˜ ì˜ˆì•½ ì •ë³´ ì¡°íšŒ
patient1.reservation_set.all()
# <QuerySet [<Reservation: 1ë²ˆ ì˜ì‚¬ì˜ 1ë²ˆ í™˜ì>, 
#            <Reservation: 2ë²ˆ ì˜ì‚¬ì˜ 1ë²ˆ í™˜ì>]>

# 2ë²ˆ ì˜ì‚¬ì˜ ì˜ˆì•½ ì •ë³´ ì¡°íšŒ
patient2.reservation_set.all()
# <QuerySet [<Reservation: 2ë²ˆ ì˜ì‚¬ì˜ 2ë²ˆ í™˜ì>]>
```

---

### ì¤‘ê°œ ëª¨ë¸ì˜ í•œê³„

**ë¬¸ì œì :**
- ì˜ì‚¬ê°€ ì˜ˆì•½í•œ í™˜ì ëª©ë¡ì„ í™•ì¸í•˜ë ¤ë©´ Reservationì„ ê±°ì³ì•¼ í•¨
- í™˜ìê°€ ì˜ˆì•½í•œ ì˜ì‚¬ ëª©ë¡ì„ í™•ì¸í•˜ë ¤ë©´ Reservationì„ ê±°ì³ì•¼ í•¨

```python
# 1ë²ˆ ì˜ì‚¬ê°€ ì˜ˆì•½í•œ í™˜ì ëª©ë¡ í™•ì¸ (ë³µì¡!)
for reservation in doctor1.reservation_set.all():
    print(reservation.patient.name)
```

**ê°œì„  ë°©í–¥:**
> DjangoëŠ” ì´ëŸ¬í•œ ë¶ˆí¸í•¨ì„ í•´ê²°í•˜ê¸° ìœ„í•´ **ManyToManyField**ë¥¼ ì œê³µí•©ë‹ˆë‹¤!

---

## 4ï¸âƒ£ ManyToManyField

### ManyToManyFieldë€?

**ì •ì˜:**
- ë‹¤ëŒ€ë‹¤(M:N, many-to-many) ê´€ê³„ ì„¤ì • ì‹œ ì‚¬ìš©í•˜ëŠ” ëª¨ë¸ í•„ë“œ

**íŠ¹ì§•:**
- ì¤‘ê°œ í…Œì´ë¸”ì„ ìë™ìœ¼ë¡œ ìƒì„±
- ë‘ ëª¨ë¸ ê°„ì˜ ê´€ê³„ë¥¼ ì§ì ‘ì ìœ¼ë¡œ ì¡°íšŒí•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤Œ

---

### ManyToManyField ì‘ì„±

Patient ëª¨ë¸ì— ManyToManyField ì‘ì„±

```python
# hospitals/models.py

class Doctor(models.Model):
    name = models.TextField()
    
    def __str__(self):
        return f'{self.pk}ë²ˆ ì˜ì‚¬ {self.name}'


class Patient(models.Model):
    # ManyToManyField ì‘ì„±
    doctors = models.ManyToManyField(Doctor)
    name = models.TextField()
    
    def __str__(self):
        return f'{self.pk}ë²ˆ í™˜ì {self.name}'
```

> **ì¤‘ìš”:** ManyToManyFieldëŠ” ë‘ ëª¨ë¸ ì¤‘ **ì–´ëŠ ìª½ì— ì‘ì„±í•´ë„ ìƒê´€ì—†ìŒ**
> - ë‹¨, ì°¸ì¡°ì™€ ì—­ì°¸ì¡° ë°©í–¥ë§Œ ë°”ë€” ë¿!

---

### Migration í›„ í…Œì´ë¸” êµ¬ì¡°

**ìë™ ìƒì„±ëœ ì¤‘ê°œ í…Œì´ë¸”:**
```
hospitals_patient_doctors
```

**í…Œì´ë¸” êµ¬ì¡°:**
| id | patient_id | doctor_id |
|----|------------|-----------|
| 1  | 1          | 1         |
| 2  | 2          | 2         |

> **ëª…ëª… ê·œì¹™:** `ì•±ì´ë¦„_ëª¨ë¸ëª…_í•„ë“œëª…` í˜•ì‹ìœ¼ë¡œ ìë™ ìƒì„±

---

### ì˜ì‚¬ 1ëª…ê³¼ í™˜ì 2ëª… ìƒì„±

```python
doctor1 = Doctor.objects.create(name='allie')
patient1 = Patient.objects.create(name='carol')
patient2 = Patient.objects.create(name='duke')
```

---

### ì˜ˆì•½ ìƒì„± (í™˜ì â†’ ì˜ì‚¬)

```python
# patient1(carol)ì´ doctor1(allie)ì—ê²Œ ì˜ˆì•½
patient1.doctors.add(doctor1)

# patient1ì´ ì˜ˆì•½í•œ ì˜ì‚¬ ëª©ë¡ í™•ì¸
patient1.doctors.all()
# <QuerySet [<Doctor: 1ë²ˆ ì˜ì‚¬ allie>]>

# doctor1ì—ê²Œ ì˜ˆì•½ëœ í™˜ì ëª©ë¡ í™•ì¸ (ì—­ì°¸ì¡°)
doctor1.patient_set.all()
# <QuerySet [<Patient: 1ë²ˆ í™˜ì carol>]>
```

---

### ì˜ˆì•½ ìƒì„± (ì˜ì‚¬ â†’ í™˜ì)

```python
# doctor1ì´ patient2(duke)ë¥¼ ì˜ˆì•½
doctor1.patient_set.add(patient2)

# doctor1ì—ê²Œ ì˜ˆì•½ëœ í™˜ì ëª©ë¡ í™•ì¸
doctor1.patient_set.all()
# <QuerySet [<Patient: 1ë²ˆ í™˜ì carol>, <Patient: 2ë²ˆ í™˜ì duke>]>

# patient2ê°€ ì˜ˆì•½í•œ ì˜ì‚¬ ëª©ë¡ í™•ì¸
patient2.doctors.all()
# <QuerySet [<Doctor: 1ë²ˆ ì˜ì‚¬ allie>]>

# ì¤‘ê°œ í…Œì´ë¸” í™•ì¸
patient1.doctors.all()
# <QuerySet [<Doctor: 1ë²ˆ ì˜ì‚¬ allie>]>

patient2.doctors.all()
# <QuerySet [<Doctor: 1ë²ˆ ì˜ì‚¬ allie>]>
```

**ì¤‘ê°œ í…Œì´ë¸”:**
| id | patient_id | doctor_id |
|----|------------|-----------|
| 1  | 1          | 1         |
| 2  | 2          | 1         |

---

### ì˜ˆì•½ ì·¨ì†Œ (ì‚­ì œ)

```python
# ì˜ì‚¬ê°€ í™˜ì ì˜ˆì•½ ì·¨ì†Œ
doctor1.patient_set.remove(patient1)

doctor1.patient_set.all()
# <QuerySet [<Patient: 2ë²ˆ í™˜ì duke>]>

patient1.doctors.all()
# <QuerySet []>
```

```python
# í™˜ìê°€ ì˜ì‚¬ ì˜ˆì•½ ì·¨ì†Œ
patient2.doctors.remove(doctor1)

patient2.doctors.all()
# <QuerySet []>

doctor1.patient_set.all()
# <QuerySet []>
```

---

## 5ï¸âƒ£ 'through' argument

### 'through' ì¸ìë€?

**ì •ì˜:**
- ì¤‘ê°œ í…Œì´ë¸”ì— **ì¶”ê°€ ë°ì´í„°**ë¥¼ ì‚¬ìš©í•´ M:N ê´€ê³„ë¥¼ í˜•ì„±í•˜ë ¤ëŠ” ê²½ìš° ì‚¬ìš©
- ì¤‘ê°œ í…Œì´ë¸”ì„ **ì§ì ‘ ì‘ì„±**í•˜ëŠ” ê²½ìš°

**ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤:**
- ì˜ˆì•½ ì‹œìŠ¤í…œì—ì„œ ì˜ˆì•½ ë‚ ì§œ, ì‹œê°„ ë“± ì¶”ê°€ ì •ë³´ê°€ í•„ìš”í•œ ê²½ìš°

---

### Reservation ëª¨ë¸ ìˆ˜ì •

```python
# hospitals/models.py

class Doctor(models.Model):
    name = models.TextField()
    
    def __str__(self):
        return f'{self.pk}ë²ˆ ì˜ì‚¬ {self.name}'


class Patient(models.Model):
    doctors = models.ManyToManyField(Doctor, through='Reservation')
    name = models.TextField()
    
    def __str__(self):
        return f'{self.pk}ë²ˆ í™˜ì {self.name}'


class Reservation(models.Model):
    doctor = models.ForeignKey(Doctor, on_delete=models.CASCADE)
    patient = models.ForeignKey(Patient, on_delete=models.CASCADE)
    symptom = models.TextField()  # ì¦ìƒ
    reserved_at = models.DateTimeField(auto_now_add=True)  # ì˜ˆì•½ ë‚ ì§œ
    
    def __str__(self):
        return f'{self.doctor.pk}ë²ˆ ì˜ì‚¬ì˜ {self.patient.pk}ë²ˆ í™˜ì'
```

---

### ì˜ˆì•½ ìƒì„± (through ì‚¬ìš©)

```python
doctor1 = Doctor.objects.create(name='allie')
patient1 = Patient.objects.create(name='carol')
patient2 = Patient.objects.create(name='duke')
```

#### ì¼ë°˜ì ì¸ ì˜ˆì•½ ìƒì„± ë°©ì‹ (ë¶ˆê°€ëŠ¥)

```python
# ë¶ˆê°€ëŠ¥!
patient1.doctors.add(doctor1)
# AttributeError: 'Reservation' object has no attribute 'symptom'
```

> **ì´ìœ :** through ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ì¶”ê°€ í•„ë“œ(symptom, reserved_at)ê°€ í•„ìˆ˜ì´ë¯€ë¡œ add() ë©”ì„œë“œë¡œëŠ” ìƒì„± ë¶ˆê°€

---

#### ì¤‘ê°œ í…Œì´ë¸”ì„ ì§ì ‘ ìƒì„±

```python
# ë°©ë²• 1: Reservation ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
reservation1 = Reservation(
    doctor=doctor1,
    patient=patient1,
    symptom='headache'
)
reservation1.save()

print(doctor1.patient_set.all())
# <QuerySet [<Patient: 1ë²ˆ í™˜ì carol>]>

print(patient1.doctors.all())
# <QuerySet [<Doctor: 1ë²ˆ ì˜ì‚¬ allie>]>
```

```python
# ë°©ë²• 2: Patientì˜ ì—­ì°¸ì¡° ë§¤ë‹ˆì € ì‚¬ìš©
patient2.doctors.add(doctor1, through_defaults={'symptom': 'flu'})

print(doctor1.patient_set.all())
# <QuerySet [<Patient: 1ë²ˆ í™˜ì carol>, <Patient: 2ë²ˆ í™˜ì duke>]>

print(patient2.doctors.all())
# <QuerySet [<Doctor: 1ë²ˆ ì˜ì‚¬ allie>]>
```

---

### ì˜ˆì•½ ì‚­ì œ (through ì‚¬ìš©)

```python
# ì˜ì‚¬ê°€ í™˜ì ì˜ˆì•½ ì·¨ì†Œ
doctor1.patient_set.remove(patient1)

print(doctor1.patient_set.all())
# <QuerySet [<Patient: 2ë²ˆ í™˜ì duke>]>

print(patient1.doctors.all())
# <QuerySet []>
```

> **ì°¸ê³ :** throughê°€ ìˆì–´ë„ `remove()`, `clear()` ë©”ì„œë“œëŠ” ì •ìƒ ì‘ë™

---

### ì˜ˆì•½ ì¡°íšŒ

```python
# ì˜ˆì•½ ì •ë³´ ì¡°íšŒ
reservations = Reservation.objects.all()
for reservation in reservations:
    print(f'ì˜ì‚¬: {reservation.doctor.name}')
    print(f'í™˜ì: {reservation.patient.name}')
    print(f'ì¦ìƒ: {reservation.symptom}')
    print(f'ì˜ˆì•½ì¼: {reservation.reserved_at}')
    print()
```

---

## 6ï¸âƒ£ ManyToManyField ì£¼ìš” ì¸ì

### related_name

**ì—­í• :**
- ì—­ì°¸ì¡° ì‹œ ì‚¬ìš©í•˜ëŠ” ë§¤ë‹ˆì € ì´ë¦„ì„ ë³€ê²½

**ê¸°ë³¸ ë™ì‘:**
```python
# ê¸°ë³¸ ì—­ì°¸ì¡° ë§¤ë‹ˆì €
doctor.patient_set.all()
```

**related_name ì‚¬ìš©:**
```python
class Patient(models.Model):
    doctors = models.ManyToManyField(Doctor, related_name='patients')
    name = models.TextField()
```

```python
# ë³€ê²½ëœ ì—­ì°¸ì¡° ë§¤ë‹ˆì €
doctor.patients.all()  # patient_set ëŒ€ì‹  patients ì‚¬ìš©
```

---

### symmetrical

**ì •ì˜:**
- ManyToManyFieldê°€ **ë™ì¼í•œ ëª¨ë¸**(ì¬ê·€ ê´€ê³„)ì„ ê°€ë¦¬í‚¤ëŠ” ê²½ìš°ì—ë§Œ ì‚¬ìš©
- ê¸°ë³¸ê°’: `True`

**symmetrical=True (ê¸°ë³¸ê°’)**
```python
class Person(models.Model):
    friends = models.ManyToManyField('self')
    # symmetrical=Trueê°€ ê¸°ë³¸ê°’
```

- Aê°€ Bì˜ ì¹œêµ¬ë©´, Bë„ ìë™ìœ¼ë¡œ Aì˜ ì¹œêµ¬ê°€ ë¨ (ëŒ€ì¹­ ê´€ê³„)
- ì—­ì°¸ì¡° ë§¤ë‹ˆì €ê°€ ìƒì„±ë˜ì§€ ì•ŠìŒ

**symmetrical=False**
```python
class Person(models.Model):
    followers = models.ManyToManyField('self', symmetrical=False)
```

- Aê°€ Bë¥¼ íŒ”ë¡œìš°í•´ë„, Bê°€ Aë¥¼ íŒ”ë¡œìš°í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ (ë¹„ëŒ€ì¹­ ê´€ê³„)
- ì—­ì°¸ì¡° ë§¤ë‹ˆì €ê°€ ìƒì„±ë¨

---

## 7ï¸âƒ£ ì¢‹ì•„ìš” ê¸°ëŠ¥ êµ¬í˜„

### ëª¨ë¸ ê´€ê³„ ì„¤ì • (1/2)

Article(ê²Œì‹œê¸€)ê³¼ User(ìœ ì €) ê°„ M:N ê´€ê³„ ì„¤ì •

```python
# articles/models.py

class Article(models.Model):
    user = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
    like_users = models.ManyToManyField(settings.AUTH_USER_MODEL)
    title = models.CharField(max_length=10)
    content = models.TextField()
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
```

**ë¬¸ì œ ë°œìƒ:**
```
ERRORS:
articles.Article.like_users: (fields.E304) Reverse accessor for 
'articles.Article.like_users' clashes with reverse accessor for 
'articles.Article.user'.
```

---

### ì—­ì°¸ì¡° ë§¤ë‹ˆì € ì¶©ëŒ

**ì›ì¸:**
- User ëª¨ë¸ì—ì„œ Articleì„ ì—­ì°¸ì¡°í•  ë•Œ ë‘ ê°œì˜ ê´€ê³„ê°€ ëª¨ë‘ `article_set` ë§¤ë‹ˆì €ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•¨

**í•´ê²° ë°©ë²•:**
- `related_name`ì„ ì‚¬ìš©í•˜ì—¬ ì—­ì°¸ì¡° ë§¤ë‹ˆì € ì´ë¦„ì„ ë³€ê²½

---

### ëª¨ë¸ ê´€ê³„ ì„¤ì • (2/2)

```python
# articles/models.py

class Article(models.Model):
    user = models.ForeignKey(
        settings.AUTH_USER_MODEL, 
        on_delete=models.CASCADE
    )
    like_users = models.ManyToManyField(
        settings.AUTH_USER_MODEL, 
        related_name='like_articles'  # ì—­ì°¸ì¡° ë§¤ë‹ˆì € ì´ë¦„ ë³€ê²½
    )
    title = models.CharField(max_length=10)
    content = models.TextField()
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
```

**ì—­ì°¸ì¡° ë§¤ë‹ˆì €:**
- `user.article_set.all()` â†’ ìœ ì €ê°€ ì‘ì„±í•œ ê²Œì‹œê¸€
- `user.like_articles.all()` â†’ ìœ ì €ê°€ ì¢‹ì•„ìš” ëˆ„ë¥¸ ê²Œì‹œê¸€

---

### ê¸°ëŠ¥ êµ¬í˜„ (1/4)

URL ë° view í•¨ìˆ˜ ì‘ì„±

```python
# articles/urls.py

urlpatterns = [
    path('<int:article_pk>/likes/', views.likes, name='likes'),
]
```

```python
# articles/views.py

@login_required
def likes(request, article_pk):
    article = Article.objects.get(pk=article_pk)
    
    # ì´ë¯¸ ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¸ ê²½ìš° â†’ ì·¨ì†Œ
    if request.user in article.like_users.all():
        article.like_users.remove(request.user)
    # ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥´ì§€ ì•Šì€ ê²½ìš° â†’ ì¶”ê°€
    else:
        article.like_users.add(request.user)
    
    return redirect('articles:index')
```

---

### ê¸°ëŠ¥ êµ¬í˜„ (2/4)

exists() ë©”ì„œë“œ í™œìš©

```python
@login_required
def likes(request, article_pk):
    article = Article.objects.get(pk=article_pk)
    
    # exists(): QuerySetì— ê²°ê³¼ê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ True, ì—†ìœ¼ë©´ False
    if article.like_users.filter(pk=request.user.pk).exists():
        article.like_users.remove(request.user)
    else:
        article.like_users.add(request.user)
    
    return redirect('articles:index')
```

> **exists() ì¥ì :**
> - ëŒ€ê·œëª¨ QuerySetì—ì„œ íŠ¹ì • ê°œì²´ì˜ ì¡´ì¬ ì—¬ë¶€ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ í™•ì¸
> - ì „ì²´ QuerySetì„ í‰ê°€í•˜ì§€ ì•Šê³  ê²°ê³¼ê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ë§Œ í™•ì¸

---

### ê¸°ëŠ¥ êµ¬í˜„ (3/4)

index í…œí”Œë¦¿ì—ì„œ ì¢‹ì•„ìš” ë²„íŠ¼ ì¶œë ¥

```django
<!-- articles/index.html -->

{% for article in articles %}
  <p>ì‘ì„±ì: {{ article.user }}</p>
  <p>ê¸€ ë²ˆí˜¸: {{ article.pk }}</p>
  <p>ê¸€ ì œëª©: {{ article.title }}</p>
  <p>ê¸€ ë‚´ìš©: {{ article.content }}</p>
  
  <form action="{% url 'articles:likes' article.pk %}" method="POST">
    {% csrf_token %}
    {% if request.user in article.like_users.all %}
      <input type="submit" value="ì¢‹ì•„ìš” ì·¨ì†Œ">
    {% else %}
      <input type="submit" value="ì¢‹ì•„ìš”">
    {% endif %}
  </form>
  
  <hr>
{% endfor %}
```

---

### ê¸°ëŠ¥ êµ¬í˜„ (4/4)

ì¢‹ì•„ìš” ë²„íŠ¼ ë™ì‘ í™•ì¸

**í™”ë©´:**
```
ì‘ì„±ì: admin
ê¸€ ë²ˆí˜¸: 1
ê¸€ ì œëª©: No 1 title
ê¸€ ë‚´ìš©: First Content
[ì¢‹ì•„ìš” ì·¨ì†Œ]  â† ë²„íŠ¼ í´ë¦­ ì‹œ í…ìŠ¤íŠ¸ ë³€ê²½
```

**ì¤‘ê°œ í…Œì´ë¸” í™•ì¸:**
```
articles_article_like_users
```

| id | article_id | user_id |
|----|------------|---------|
| 1  | 1          | 1       |

---

## ğŸ”‘ í•µì‹¬ í‚¤ì›Œë“œ ì •ë¦¬

| ê°œë… | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| **N:M ê´€ê³„** | ì—¬ëŸ¬ ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì„œë¡œë¥¼ ì°¸ì¡°í•˜ëŠ” ê´€ê³„ | í•™ìƒ â†” ìˆ˜ì—… |
| **ì¤‘ê°œ ëª¨ë¸** | N:M ê´€ê³„ë¥¼ í‘œí˜„í•˜ë©´ì„œ ì¶”ê°€ ì •ë³´ë¥¼ í¬í•¨ì‹œí‚¤ëŠ” ì¤‘ê°„ í…Œì´ë¸” | ì˜ˆì•½(ì˜ˆì•½ë‚ ì§œ, ì˜ˆì•½ì‹œê°„) |
| **ManyToManyField** | Djangoì—ì„œ N:M ê´€ê³„ë¥¼ ì •ì˜í•˜ëŠ” í•„ë“œ | `user_likes = models.ManyToManyField(Post)` |
| **through** | ManyToMany ê´€ê³„ì— ì»¤ìŠ¤í…€ ëª¨ë¸ì„ ì§€ì •í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì¸ì | `through='Like'` |
| **related_name** | ì—­ì°¸ì¡° ì‹œ ì‚¬ìš©í•  ì´ë¦„ ì§€ì • | `related_name='liked_posts'` |
| **symmetrical** | ê´€ê³„ì˜ ë°©í–¥ì„±ì„ ì„¤ì •í•˜ëŠ” ì†ì„± | ì¹œêµ¬ ê´€ê³„ëŠ” ëŒ€ì¹­ì , íŒ”ë¡œìš°ëŠ” ë¹„ëŒ€ì¹­ |
| **ì—­ì°¸ì¡° ì¶©ëŒ** | ë™ì¼ ëª¨ë¸ ê°„ ë‹¤ì¤‘ ê´€ê³„ ë°œìƒ ì‹œ ì°¸ì¡° ì´ë¦„ì´ ê²¹ì¹˜ëŠ” ë¬¸ì œ | Like ëª¨ë¸ì—ì„œ user, post |

---

## ğŸ“ ìš”ì•½ ë° ì •ë¦¬

### 1. ë‹¤ëŒ€ë‹¤ ê´€ê³„ë€?
- ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ê°€ ì„œë¡œë¥¼ ì°¸ì¡°í•˜ëŠ” ë³µì¡í•œ ê´€ê³„ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆìŒ
- í™˜ì â†” ì˜ì‚¬, ìœ ì € â†” ê²Œì‹œê¸€ ê°™ì€ ìƒí™©ì— ì í•©í•¨

### 2. ì¤‘ê°œ ëª¨ë¸ì˜ í•„ìš”ì„±
- ë‹¨ìˆœ ì—°ê²° ì™¸ì— ì¶”ê°€ ì •ë³´(ì˜ˆ: ì˜ˆì•½ ì‹œê°„)ë¥¼ ì €ì¥í•˜ê³  ì‹¶ì„ ë•Œ í•„ìš”
- 'through' ì˜µì…˜ìœ¼ë¡œ ì›í•˜ëŠ” ì¤‘ê°„ ëª¨ë¸ì„ ì§ì ‘ ì •ì˜í•  ìˆ˜ ìˆìŒ

### 3. ManyToManyField êµ¬ì¡° ì´í•´
- Djangoì—ì„œ ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ ì„ ì–¸í•˜ëŠ” í•„ë“œ
- ê¸°ë³¸ ì¤‘ê°œ í…Œì´ë¸”ì„ ìë™ìœ¼ë¡œ ìƒì„±í•˜ì§€ë§Œ ì»¤ìŠ¤í„°ë§ˆì´ì§•ë„ ê°€ëŠ¥í•¨

### 4. ì¤‘ê°œ ëª¨ë¸ ì„¤ê³„ ë°©ì‹
- ì˜ˆì•½ ì‹œìŠ¤í…œì—ì„œëŠ” ì˜ˆì•½ í…Œì´ë¸”ì´ ì¤‘ê°œ ì—­í• 
- ì˜ˆì•½ ì‹œê°„, ìƒíƒœ ë“±ì˜ í•„ë“œë¥¼ í¬í•¨ì‹œì¼œ ì •ë³´ í™•ì¥ ê°€ëŠ¥

### 5. ì¢‹ì•„ìš” ê¸°ëŠ¥ êµ¬í˜„ ì‹œ ê³ ë ¤ì‚¬í•­
- ìœ ì € â†” ê²Œì‹œê¸€ ê°„ ì¢‹ì•„ìš” ê´€ê³„ëŠ” ë¹„ëŒ€ì¹­ì  êµ¬ì¡°
- ì—­ì°¸ì¡° ì´ë¦„ ì¶©ëŒì„ ë°©ì§€í•˜ë ¤ë©´ `related_name` ì„¤ì • í•„ìš”

### 6. symmetrical ì†ì„± í™œìš©
- ê´€ê³„ ë°©í–¥ì„±ì„ ì„¤ì •í•  ìˆ˜ ìˆìŒ
- ì¹œêµ¬ ê´€ê³„ì²˜ëŸ¼ ëŒ€ì¹­ êµ¬ì¡°ì—ëŠ” True, íŒ”ë¡œìš°ì²˜ëŸ¼ ë‹¨ë°©í–¥ì—ëŠ” False ì„¤ì •

### 7. ì¤‘ë³µ ì°¸ì¡° ì´ìŠˆ í•´ê²°
- ê°™ì€ ëª¨ë¸ ê°„ ë‹¤ì¤‘ ê´€ê³„ê°€ ìˆì„ ê²½ìš° ëª…í™•í•œ ì†ì„± ëª… ì •ì˜ê°€ ì¤‘ìš”
- ì„¤ê³„ ì‹œ í˜¼ë™ì„ ì¤„ì´ê¸° ìœ„í•œ ëª…ëª… ê·œì¹™ì´ í•„ìš”í•¨

---

## ğŸ“ í•™ìŠµ ë§ˆë¬´ë¦¬

N:1 ê´€ê³„ë³´ë‹¤ ë³µì¡í•œ ê´€ê³„ë¥¼ ìœ ì—°í•˜ê²Œ ì„¤ê³„í•˜ëŠ” ë°©ì•ˆì„ ê³ ë¯¼í•´ë´¤ìŠµë‹ˆë‹¤.

í™˜ìì™€ ì˜ì‚¬ ê°„ ì˜ˆì•½ ì‹œìŠ¤í…œì„ ë§Œë“¤ ë•Œ, N:1 êµ¬ì¡°ë§Œìœ¼ë¡œëŠ” í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤.

ì¤‘ê°œ í…Œì´ë¸”ì„ í™œìš©í•˜ì—¬ N:1ì˜ í•œê³„ë¥¼ ë³´ì™„í•  ìˆ˜ ìˆì„ ë¿ë”ëŸ¬ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í•µì‹¬ ì •ë¦¬:**

1. Djangoì˜ **ì¤‘ê°œ ëª¨ë¸**ì„ ì‚¬ìš©í•˜ë©´ ì˜ˆì•½ ì •ë³´ì™€ ë¶€ê°€ ì •ë³´ë¥¼ í•¨ê»˜ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

2. **ManyToManyField**ë¥¼ ì‚¬ìš©í•˜ë©´ ì–‘ë°©í–¥ ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ ì‰½ê²Œ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

3. **'through'** ì¸ìë¡œ í™œìš©í•˜ë©´ ì¤‘ê°„ í…Œì´ë¸”ì— ì‚¬ìš©ì ì§€ì • í•„ë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

4. **related_name, symmetrical** ê°™ì€ ì˜µì…˜ìœ¼ë¡œ ì°¸ì¡° ë°©í–¥ì„±ê³¼ ì¶©ëŒì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

**ë‹¤ìŒ ì°¨ì‹œ ì˜ˆê³ :**
- ì´ëŸ¬í•œ ëª¨ë¸ êµ¬ì¡°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹¤ì œ QuerySetì„ í™œìš©í•œ ì¡°íšŒ ë° ìˆ˜ì • ë°©ë²•ì„ í•™ìŠµí•  ì˜ˆì •ì…ë‹ˆë‹¤
- ì§€ê¸ˆê¹Œì§€ì˜ í•™ìŠµì„ ë°”íƒ•ìœ¼ë¡œ ì‹¤ë¬´ì— ì ìš© ê°€ëŠ¥í•œ Django Queryë¥¼ ê°œì„ í•˜ëŠ” ë°©ë²• ë“±ì„ í•™ìŠµí•  ì˜ˆì •ì…ë‹ˆë‹¤
