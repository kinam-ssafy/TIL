# 세그먼트 트리 초기화
def init(node, nodeLeft, nodeRight):
    if nodeLeft == nodeRight:
        sumTree[node] = a[nodeLeft]
        return

    mid = (nodeLeft + nodeRight) // 2

    init(node * 2, nodeLeft, mid)
    init(node * 2 + 1, mid + 1, nodeRight)

    sumTree[node] = sumTree[node * 2] + sumTree[node * 2 + 1]

# 세그먼트 트리 갱신
def update(node, nodeLeft, nodeRight, queryIndex, value):
    if queryIndex < nodeLeft or nodeRight < queryIndex:
        return

    if nodeLeft == nodeRight:
        sumTree[node] = value
        return

    mid = (nodeLeft + nodeRight) // 2

    update(node * 2, nodeLeft, mid, queryIndex, value)
    update(node * 2 + 1, mid + 1, nodeRight, queryIndex, value)

    sumTree[node] = sumTree[node * 2] + sumTree[node * 2 + 1]

def querySum(node, nodeLeft, nodeRight, queryLeft, queryRight):
    if queryRight < nodeLeft or nodeRight < queryLeft:
        return 0

    if queryLeft <= nodeLeft and nodeRight <= queryRight:
        return sumTree[node]

    mid = (nodeLeft + nodeRight) // 2

    leftSum = querySum(node * 2, nodeLeft, mid, queryLeft, queryRight)
    rightSum = querySum(node * 2 + 1, mid + 1, nodeRight, queryLeft, queryRight)

    return leftSum + rightSum

t = int(input())

for test in range(1, t + 1):
    print(f'#{test} ', end='')

    n, m = map(int, input().split())
    a = list(map(int, input().split()))

    sumTree = [0 for _ in range(4 * n)]
    for i in range(n):
        if i % 2 == 1:
            a[i] = -a[i]

    init(1, 0, n - 1)

    for i in range(m):
        query, left, right = map(int, input().split())

        if query == 0:
            if left % 2 == 1:
                right = -right

            update(1, 0, n - 1, left, right)
        elif query == 1:
            total = querySum(1, 0, n - 1, left, right - 1)

            if left % 2 == 1:
                total = -total

            print(total, end=' ')

    print()